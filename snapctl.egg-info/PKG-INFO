Metadata-Version: 2.4
Name: snapctl
Version: 0.1.0
Summary: Add your description here
Requires-Python: >=3.13
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: boto3>=1.40.37
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: ruff>=0.13.1
Requires-Dist: rich>=14.1.0
Requires-Dist: typer>=0.19.2
Requires-Dist: structlog>=25.5.0
Requires-Dist: pytest>=9.0.1
Dynamic: license-file

## snapctl
`snapctl` is a CLI tool that allows you to setup production-grade backups and disaster recovery in under 5 minutes with one config file. Currently, it only supports AWS RDS. But we're working towards supporting other services within the AWS ecosystem.

### Features
- **Automated RDS snapshots**: daily/hourly schedules, retention policies.
- **One-command backup/restore/failover**: spin up a standby or replacement DB fast.
- **Config-as-code**: version your DR plan in Git alongside your app.
- **Data stays in your account**: no third-party storage or agents.

### Quick Start
#### Installation
```bash
TODO
```

#### Basic Usage
```yaml
# backup-config.yaml
app: acme

provider:
    name: aws
    region: us-east-1

auth:
    role_arn: arn:aws:iam::123456789012:role/BackupRole

protect:
    - type: rds
      name: production-databases
      discover: "tag:Environment=production AND tag:Backup=required"
```

You can specify a `profile` instead of the `role_arn` in the `auth` section like this:
```yaml
auth:
    profile: local-development-profile
```

The better approach would be to use an IAM role for production and only use profiles in a local development context to test usage of `snapctl`.

You can also set the `retention` and `schedule` globally for all resources like this:
```yaml
# backup-config.yaml
protect:
    - type: rds
      name: production-databases
      discover: "tag:Environment=production AND tag:Backup=required"
```

To run backups:
```bash
# Test configuration
$ snapctl validate config --config backup-config.yaml

# Execute a backup
$ snapctl run --config backup-config.yaml
```

You can also validate the profile or IAM role using the following:
```bash
$ snapctl validate auth --config backup-config.yaml
```

### Production-Grade by Default:
- Tag-based discovery: Automatically find resources using AWS tags.
- Configuration as Code: Version-controlled backup and disaster recovery policies.
- Minimal IAM footprint: Least-privileged IAM policies.

### Roadmap
- AWS
    - [ ] Aurora (in-progress)
    - [ ] EBS
    - [ ] EC2
    - [ ] S3
    - [ ] DynamoDB
    - [ ] VPC
    - [ ] Redshift
    - [ ] ElastiCache
    - [ ] DocumentDB
    - [ ] Neptune
    - [ ] Lambda
    - [ ] Route53

- [ ] Multi-cloud support (GCP, Azure, DigitalOcean, Linode)
